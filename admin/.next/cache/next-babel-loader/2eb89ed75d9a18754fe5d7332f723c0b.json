{"ast":null,"code":"var _jsxFileName = \"/Users/draki/Documents/Epitech/EIP/dashboard/admin/pages/profile-update/index.js\";\nimport React, { useState, useRef, useEffect } from 'react';\nimport { UserOutlined } from '@ant-design/icons';\nimport Layout from '../../components/Layout';\nimport { Button, Form, Input, Radio, Card, Avatar, Space, Alert } from 'antd';\nimport UserDataService from \"../../services/UserDataService\";\nimport API from '../../services/API';\nimport { Typography } from 'antd';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Title\n} = Typography;\nexport default function ProfileUpdate() {\n  const {\n    0: username,\n    1: setInputValueUsername\n  } = useState('');\n  const {\n    0: email,\n    1: setInputValueEmail\n  } = useState('');\n  const {\n    0: showAlert,\n    1: setShowAlert\n  } = useState(false);\n  const handleInputChange = e => {\n    const {\n      username,\n      email\n    } = e.target;\n    setInputValueEmail(email);\n    setInputValueUsername(username);\n  };\n  const handleSubmit = async event => {\n    try {\n      console.log(username);\n      const user_data = UserDataService.get();\n      const data = {};\n      data.id = user_data.id;\n      data.roles = user_data.roles;\n      data.email = email;\n      data.username = username;\n      console.log(data);\n      const response = await API.send('PUT', '/api/user/profile/update', data, true);\n      console.log(response);\n      if (response.status == 200) {\n        setShowAlert(true);\n        console.log('here');\n        setTimeout(() => {\n          setShowAlert(false);\n        }, 3000);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      style: {\n        marginTop: \"17%\",\n        alignVertical: \"25%\",\n        left: \"25%\",\n        width: \"50%\",\n        alignHorizontal: \"25%\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        level: 2,\n        style: {\n          marginTop: \"0%\"\n        },\n        children: \"Profile Update\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        style: {\n          marginTop: \"5%\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n          label: \"Username\",\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            style: {\n              marginLeft: \"2.3%\"\n            },\n            className: \"Username\",\n            onChange: e => {\n              setInputValueUsername(e.currentTarget.value);\n            },\n            value: username,\n            placeholder: \"Username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          style: {\n            marginLeft: \"4%\"\n          },\n          label: \"E-Mail\",\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            style: {\n              left: \"2%\"\n            },\n            value: email,\n            onChange: e => {\n              setInputValueEmail(e.currentTarget.value);\n            },\n            className: \"e-mail\",\n            placeholder: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), showAlert && /*#__PURE__*/_jsxDEV(Alert, {\n          message: \"Profile updated with success !\",\n          type: \"success\",\n          showIcon: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          style: {\n            left: \"87%\",\n            top: \"50%\"\n          },\n          className: \"button-submit\",\n          onClick: handleSubmit,\n          type: \"primary\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this);\n}\n;","map":{"version":3,"names":["React","useState","useRef","useEffect","UserOutlined","Layout","Button","Form","Input","Radio","Card","Avatar","Space","Alert","UserDataService","API","Typography","jsxDEV","_jsxDEV","Title","ProfileUpdate","username","setInputValueUsername","email","setInputValueEmail","showAlert","setShowAlert","handleInputChange","e","target","handleSubmit","event","console","log","user_data","get","data","id","roles","response","send","status","setTimeout","error","children","style","marginTop","alignVertical","left","width","alignHorizontal","level","fileName","_jsxFileName","lineNumber","columnNumber","Item","label","marginLeft","className","onChange","currentTarget","value","placeholder","message","type","showIcon","top","onClick"],"sources":["/Users/draki/Documents/Epitech/EIP/dashboard/admin/pages/profile-update/index.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { UserOutlined } from '@ant-design/icons';\nimport Layout from '../../components/Layout';\nimport { Button, Form, Input, Radio, Card, Avatar, Space, Alert } from 'antd';\nimport UserDataService from \"../../services/UserDataService\";\nimport API from '../../services/API';\nimport { Typography } from 'antd';\n\nconst { Title } = Typography;\n\n\nexport default function ProfileUpdate () {\n\n  const [username, setInputValueUsername] = useState('');\n  const [email, setInputValueEmail] = useState('');\n  const [showAlert, setShowAlert] = useState(false);\n\n\n  const handleInputChange = (e) => {\n    const { username, email } = e.target;\n    setInputValueEmail(email);\n    setInputValueUsername(username);\n  };\n\n\n  const handleSubmit = async (event) => {\n    try {\n      console.log(username);\n      const user_data = UserDataService.get();\n      const data = {};\n      data.id = user_data.id;\n      data.roles = user_data.roles;\n      data.email = email;\n      data.username = username;\n      console.log(data);\n      const response = await API.send('PUT', '/api/user/profile/update', data, true);   \n      console.log(response);\n      if (response.status == 200) {\n        setShowAlert(true);\n        console.log('here');\n        setTimeout(() => {\n          setShowAlert(false);\n        }, 3000);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n    };\n\n    return (\n        <Layout>\n        <Card style={{marginTop: \"17%\",alignVertical:\"25%\",left: \"25%\", width: \"50%\", alignHorizontal: \"25%\"}}>\n        <Title level={2} style={{marginTop:\"0%\"}}>Profile Update</Title> \n        <Form style={{marginTop:\"5%\"}} >\n          <Form.Item label=\"Username\">\n            <Input  style={{marginLeft: \"2.3%\"}} className=\"Username\" onChange={e => { setInputValueUsername(e.currentTarget.value); }} value={username} placeholder=\"Username\"/>\n          </Form.Item>\n          <Form.Item style={{marginLeft: \"4%\"}} label=\"E-Mail\">\n            <Input style={{left: \"2%\"}} value={email} onChange={e => { setInputValueEmail(e.currentTarget.value); }} className=\"e-mail\" placeholder=\"Password\"/>\n          </Form.Item>\n          {showAlert &&\n          < Alert message=\"Profile updated with success !\" type=\"success\" showIcon />\n          }\n            <Button style={{left: \"87%\", top:\"50%\"}} className=\"button-submit\" onClick={handleSubmit} type=\"primary\">Submit</Button>\n        </Form>\n        </Card>\n        </Layout>\n        )\n\n    };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
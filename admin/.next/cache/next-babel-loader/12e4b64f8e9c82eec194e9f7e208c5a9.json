{"ast":null,"code":"var _jsxFileName = \"/Users/draki/Documents/Epitech/EIP/dashboard/admin/pages/profile-update/index.js\";\nvar __jsx = React.createElement;\nimport React, { useState, useRef, useEffect } from 'react';\nimport { UserOutlined } from '@ant-design/icons';\nimport Layout from '../../components/Layout';\nimport { Button, Form, Input, Radio, Card, Avatar, Space, Alert } from 'antd';\nimport UserDataService from \"../../services/UserDataService\";\nimport API from '../../services/API';\nimport { Typography } from 'antd';\nconst {\n  Title\n} = Typography;\nexport default function ProfileUpdate() {\n  const {\n    0: username,\n    1: setInputValueUsername\n  } = useState('');\n  const {\n    0: email,\n    1: setInputValueEmail\n  } = useState('');\n  const {\n    0: showAlert,\n    1: setShowAlert\n  } = useState(false);\n  const handleInputChange = e => {\n    const {\n      username,\n      email\n    } = e.target;\n    setInputValueEmail(email);\n    setInputValueUsername(username);\n  };\n  const handleSubmit = async event => {\n    try {\n      console.log(username);\n      const user_data = UserDataService.get();\n      const data = {};\n      data.id = user_data.id;\n      data.roles = user_data.roles;\n      data.email = email;\n      data.username = username;\n      //let data = '{ \"id\": \"' + user_data.id + '\", \"roles\": [\"'+ user_data.roles +'\"], \"username\": \"'+ username +'\",\"email\": \"'+ email +'\"}';\n      console.log(data);\n      const response = await API.send('PUT', '/api/user/profile/update', data, true);\n      console.log(response);\n      if (response.status == 200) {\n        setShowAlert(true);\n        console.log('here');\n        setTimeout(() => {\n          setShowAlert(false);\n        }, 3000);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  return __jsx(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, __jsx(Card, {\n    style: {\n      marginTop: \"17%\",\n      alignVertical: \"25%\",\n      left: \"25%\",\n      width: \"50%\",\n      alignHorizontal: \"25%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, __jsx(Title, {\n    level: 2,\n    style: {\n      marginTop: \"0%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, \"Profile Update\"), __jsx(Form, {\n    style: {\n      marginTop: \"5%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, __jsx(Form.Item, {\n    label: \"Username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, __jsx(Input, {\n    style: {\n      marginLeft: \"2.3%\"\n    },\n    className: \"Username\",\n    onChange: e => {\n      setInputValueUsername(e.currentTarget.value);\n    },\n    value: username,\n    placeholder: \"Username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  })), __jsx(Form.Item, {\n    style: {\n      marginLeft: \"1%\"\n    },\n    label: \"E-Mail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, __jsx(Input, {\n    style: {\n      left: \"2%\"\n    },\n    value: email,\n    onChange: e => {\n      setInputValueEmail(e.currentTarget.value);\n    },\n    className: \"e-mail\",\n    placeholder: \"Password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  })), showAlert && __jsx(Alert, {\n    message: \"Profile updated with success !\",\n    type: \"success\",\n    showIcon: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }), __jsx(Button, {\n    style: {\n      left: \"87%\",\n      top: \"50%\"\n    },\n    className: \"button-submit\",\n    onClick: handleSubmit,\n    type: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, \"Submit\"))));\n}\n;","map":{"version":3,"names":["React","useState","useRef","useEffect","UserOutlined","Layout","Button","Form","Input","Radio","Card","Avatar","Space","Alert","UserDataService","API","Typography","Title","ProfileUpdate","username","setInputValueUsername","email","setInputValueEmail","showAlert","setShowAlert","handleInputChange","e","target","handleSubmit","event","console","log","user_data","get","data","id","roles","response","send","status","setTimeout","error","__jsx","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","style","marginTop","alignVertical","left","width","alignHorizontal","level","Item","label","marginLeft","className","onChange","currentTarget","value","placeholder","message","type","showIcon","top","onClick"],"sources":["/Users/draki/Documents/Epitech/EIP/dashboard/admin/pages/profile-update/index.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { UserOutlined } from '@ant-design/icons';\nimport Layout from '../../components/Layout';\nimport { Button, Form, Input, Radio, Card, Avatar, Space, Alert } from 'antd';\nimport UserDataService from \"../../services/UserDataService\";\nimport API from '../../services/API';\nimport { Typography } from 'antd';\n\nconst { Title } = Typography;\n\n\nexport default function ProfileUpdate () {\n\n  const [username, setInputValueUsername] = useState('');\n  const [email, setInputValueEmail] = useState('');\n  const [showAlert, setShowAlert] = useState(false);\n\n\n  const handleInputChange = (e) => {\n    const { username, email } = e.target;\n    setInputValueEmail(email);\n    setInputValueUsername(username);\n  };\n\n\n  const handleSubmit = async (event) => {\n    try {\n      console.log(username);\n      const user_data = UserDataService.get();\n      const data = {};\n      data.id = user_data.id;\n      data.roles = user_data.roles;\n      data.email = email;\n      data.username = username;\n      //let data = '{ \"id\": \"' + user_data.id + '\", \"roles\": [\"'+ user_data.roles +'\"], \"username\": \"'+ username +'\",\"email\": \"'+ email +'\"}';\n      console.log(data);\n      const response = await API.send('PUT', '/api/user/profile/update', data, true);\n      console.log(response);\n      if (response.status == 200) {\n        setShowAlert(true);\n        console.log('here');\n        setTimeout(() => {\n          setShowAlert(false);\n        }, 3000);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n    };\n\n    return (\n        <Layout>\n        <Card style={{marginTop: \"17%\",alignVertical:\"25%\",left: \"25%\", width: \"50%\", alignHorizontal: \"25%\"}}>\n        <Title level={2} style={{marginTop:\"0%\"}}>Profile Update</Title> \n        <Form style={{marginTop:\"5%\"}} >\n          <Form.Item label=\"Username\">\n            <Input  style={{marginLeft: \"2.3%\"}} className=\"Username\" onChange={e => { setInputValueUsername(e.currentTarget.value); }} value={username} placeholder=\"Username\"/>\n          </Form.Item>\n          <Form.Item style={{marginLeft: \"1%\"}} label=\"E-Mail\">\n            <Input style={{left: \"2%\"}} value={email} onChange={e => { setInputValueEmail(e.currentTarget.value); }} className=\"e-mail\" placeholder=\"Password\"/>\n          </Form.Item>\n          {showAlert &&\n          <Alert message=\"Profile updated with success !\" type=\"success\" showIcon />\n        }\n            <Button style={{left: \"87%\", top:\"50%\"}} className=\"button-submit\" onClick={handleSubmit} type=\"primary\">Submit</Button>\n        </Form>\n        </Card>\n\n        </Layout>\n        )\n\n    };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}